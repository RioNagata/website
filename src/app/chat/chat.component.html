<div class="container">
    <h1>Chat Channel</h1>
    <h3>User: {{username}}</h3>
    <button type="button" class="btn btn-primary btn-block mb-4" (click)="logOut()">Log Out</button>
    <!-- 
    <form>
        <div class="form-group">
            <label for="messagecontent">New Message</label>
            <input type="text" [(ngModel)]="messagecontent" name="messagecontent" id="messagecontent" class="form-group" />
        </div>
        <div class="form-group">
            <button (click)="chat()" class="btn btn-primary"> Send </button>
        </div>
    </form>-->
    <form>
        <select [(ngModel)] = "roomslist" *ngIf="!isinRoom" name="roomslist">
            <option [ngValue]="null">Select Room</option>
            <option *ngFor="let room of rooms">
                {{room}}
            </option>
        </select>
        <div class="form-group">
            <button *ngIf="!isinRoom" (click)="joinroom()" class="btn btn-primary">Join</button> &nbsp;
        </div>
        <label for="newroom" *ngIf="isadmin">New Room</label>
        <input type="text" [(ngModel)]="newroom" *ngIf="isadmin" name="newroom" id="newroom" class="form-control"/>
        <button (click)="createroom()" class="btn btn-primary" *ngIf="isadmin">create new room</button>
    </form>
    <h2 *ngIf="isinRoom">Chat messages for {{currentroom}}</h2>
    <button *ngIf="isinRoom" (click)="leaveroom()" class="btn btn-primary">Leave</button> &nbsp;
    <p>{{roomnotice}}</p>
    <form>
        <div class="form-group" *ngIf="isinRoom">
            <label for="messagecontent">New Message</label>
            <input type="text" [(ngModel)]="messagecontent" name="messagecontent" id="messagecontent" class="form-control"/>
            <button *ngIf="isinRoom" (click)="chat()" class="btn btn-primary">Chat</button> &nbsp;
        </div>
    </form>
    <ul>
        <li *ngFor="let message of messages">{{message}}</li>
    </ul>
</div>

<!--<li *ngFor= "let  m of messages">{{m}}</li>-->